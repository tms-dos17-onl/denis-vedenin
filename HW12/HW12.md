<!-- Делайн: 09.04.2023

1. Установите на ВМ веб-сервер Apache и настройте его для работы с PHP (например, как указано в инструкции ). Поменять порт по умолчанию на 8080. Убедиться, что Apache работает и возвращает страницу с информацией о PHP.
2. Установите на ВМ Nginx.
3. Скопируйте на виртуальную машину https://github.com/tms-dos17-onl/_sandbox/tree/main/lecture15/react_nginx/build и настройте Nginx на хостинге этого веб-приложения. Проверьте работоспособность приложения, посетив все доступные ссылки на главной странице и обновив каждую страницу в веб-браузере.
4. Скопировать на виртуальную машину https://github.com/tms-dos17-onl/_sandbox/tree/main/lecture15/api .и запустите Python REST Api приложение согласно инструкции. Проверьте работоспособность всех доступных методов REST Api с помощью Swagger.
5. Настройте Nginx как обратный прокси для приложения Python REST Api из точки назначения. А затем:
- Открыть Swagger для веб-приложений через Nginx (http://<NGINX_IP>:<NGINX_PORT>/apidocs).
- Проверьте работоспособность всех доступных методов REST Api через Nginx с помощью Swagger. При необходимости поправить конфигурацию сервера Nginx, чтобы все методы сработали.
- Для тестирования метода /uploadBigFileиспользуйте файл размером более 1 МБ.
- Выведите в консоль определенный файл конфигурации Nginx с измененными значениями и комментариями . -->

# 1. Установите на ВМ веб-сервер Apache и настройте его для работы с PHP (например, как указано в инструкции ). Поменять порт по умолчанию на 8080. Убедиться, что Apache работает и возвращает страницу с информацией о PHP.
```
Была произвдена установка apache2 
denis@denis-VirtualBox:~$ systemctl status apache2
● apache2.service - The Apache HTTP Server
     Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor prese>)
     Active: active (running) since Wed 2023-08-23 19:35:28 +03; 2min 46s ago
       Docs: https://httpd.apache.org/docs/2.4/
   Main PID: 3699 (apache2)
      Tasks: 55 (limit: 4585)
     Memory: 5.1M
        CPU: 140ms
     CGroup: /system.slice/apache2.service
             ├─3699 /usr/sbin/apache2 -k start
             ├─3700 /usr/sbin/apache2 -k start
             └─3701 /usr/sbin/apache2 -k start
жні 23 19:35:28 denis-VirtualBox systemd[1]: Starting The Apache HTTP Server...
жні 23 19:35:28 denis-VirtualBox apachectl[3697]: AH00558: apache2: Could not r>
жні 23 19:35:28 denis-VirtualBox systemd[1]: Started The Apache HTTP Server.
...skipping...
```
```
Прлизвел установку MySQL
denis@denis-VirtualBox:~$ systemctl status mysql

● mysql.service - MySQL Community Server
     Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2023-08-23 19:44:23 +03; 41s ago
    Process: 4637 ExecStartPre=/usr/share/mysql/mysql-systemd-start pre (code=exited, stat>)
   Main PID: 4646 (mysqld)
     Status: "Server is operational"
      Tasks: 38 (limit: 4585)
     Memory: 365.5M
        CPU: 2.635s
     CGroup: /system.slice/mysql.service
             └─4646 /usr/sbin/mysqld
жні 23 19:44:17 denis-VirtualBox systemd[1]: Starting MySQL Community Server...
жні 23 19:44:23 denis-VirtualBox systemd[1]: Started MySQL Community Server.
```
![](/HW12/screenHW12/apache2.PNG)
```
Далее меняю порт по умолчанию на 8080
denis@denis-VirtualBox:~$ sudo netstat -tulpn | grep :8080
tcp6       0      0 :::8080                 :::*                    LISTEN      14507/apache2  

Ссылка по которой менял порт https://code-inside.com/ru/menyaem-port-apache-po-umolchaniyu-na-proizvolnyj-port/
```
![](/HW12/screenHW12/port8080.PNG)
![](/HW12/screenHW12/vbport8080.PNG)
![](/HW12/screenHW12/apache2port8080.PNG)


### возвращаю страницу с информацией о PHP
![](/HW12/screenHW12/phpinfo.PNG)

# 2. Установите на ВМ Nginx.
```
denis@denis-VirtualBox:~$ sudo apt install nginx

denis@denis-VirtualBox:~$ sudo systemctl status nginx.service 
● nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2023-08-23 21:00:38 +03; 44s ago
       Docs: man:nginx(8)
    Process: 18318 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code>
    Process: 18319 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, >
   Main PID: 18412 (nginx)
      Tasks: 5 (limit: 4585)
     Memory: 5.6M
        CPU: 120ms
     CGroup: /system.slice/nginx.service
             ├─18412 "nginx: master process /usr/sbin/nginx -g daemon on; master_process on;"
             ├─18414 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "">
             ├─18415 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "">
             ├─18416 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "">
             └─18417 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "">

жні 23 21:00:38 denis-VirtualBox systemd[1]: Starting A high performance web server and a re>
жні 23 21:00:38 denis-VirtualBox systemd[1]: Started A high performance web server and a rev>
```
![](/HW12/screenHW12/nginx.PNG)

# 3. Скопируйте на виртуальную машину https://github.com/tms-dos17-onl/_sandbox/tree/main/lecture15/react_nginx/build и настройте Nginx на хостинге этого веб-приложения. Проверьте работоспособность приложения, посетив все доступные ссылки на главной странице и обновив каждую страницу в веб-браузере.
```

```
# 4. Скопировать на виртуальную машину https://github.com/tms-dos17-onl/_sandbox/tree/main/lecture15/api .и запустите Python REST Api приложение согласно инструкции. Проверьте работоспособность всех доступных методов REST Api с помощью Swagger.
```

```
# 5. Настройте Nginx как обратный прокси для приложения Python REST Api из точки назначения. А затем:
# - Открыть Swagger для веб-приложений через Nginx (http://<NGINX_IP>:<NGINX_PORT>/apidocs).
```

```
# - Проверьте работоспособность всех доступных методов REST Api через Nginx с помощью Swagger. При необходимости поправить конфигурацию сервера Nginx, чтобы все методы сработали.
```

```
# - Для тестирования метода /uploadBigFileиспользуйте файл размером более 1 МБ.
```

```
# - Выведите в консоль определенный файл конфигурации Nginx с измененными значениями и комментариями .
```

```